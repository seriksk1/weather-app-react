(this["webpackJsonpweather-app-react"]=this["webpackJsonpweather-app-react"]||[]).push([[0],{10:function(e,t,i){},12:function(e,t,i){},13:function(e,t,i){"use strict";i.r(t);var a=i(1),c=i(4),s=i.n(c),r=(i(10),i(2)),n=i(5),o=i(0),l=function(e){return Object(o.jsxs)("form",{onSubmit:e.getWeather,className:"search-wrapper",children:[Object(o.jsx)("input",{name:"city",placeholder:"Type to search",type:"search"}),Object(o.jsx)("button",{id:"search-btn",children:"Get weather"})]})},h=i.p+"static/media/black-heart.65fd89b2.svg",m=i.p+"static/media/black-heart-not-filled.9ba73007.svg",d=function(e){return Object(o.jsxs)("div",{className:"city",children:[Object(o.jsxs)("div",{className:"city-name",children:[Object(o.jsx)("h2",{children:e.city}),Object(o.jsx)("img",{className:e.isFavorite?"display":"not-display",onClick:e.toggleFavorite,src:h,alt:"",title:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"}),Object(o.jsx)("img",{className:e.isFavorite?"not-display":"display",onClick:e.toggleFavorite,src:m,alt:"",title:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"})]}),Object(o.jsxs)("div",{className:"city-weather",children:[Object(o.jsxs)("div",{className:"city-weather-descr",children:[Object(o.jsxs)("div",{className:"city-temperature",children:[Object(o.jsx)("span",{children:e.temperature}),"\xb0C"]}),Object(o.jsx)("div",{className:"city-weather-state",children:e.name}),Object(o.jsxs)("div",{className:"city-humidity",children:["Humidity: ",Object(o.jsx)("span",{children:e.humidity}),"%"]})]}),Object(o.jsx)("img",{className:"weather-icon",src:e.icon,alt:e.name})]})]})},u=(i(12),function(){var e=Object(a.useState)({}),t=Object(n.a)(e,2),i=t[0],c=t[1],s=function(e){e?fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&units=metric&appid=").concat("ff9d437b8a5c1fdf6bc59832839e29b8")).then((function(e){if(e.ok)return e.json();throw c(Object(r.a)(Object(r.a)({},i),{},{isNotFound:!0,isVisible:!1})),Error("Wrong city")})).then((function(t){c({city:t.name,name:t.weather[0].main,temperature:Math.round(t.main.temp),humidity:t.main.humidity,icon:"http://openweathermap.org/img/wn/".concat(t.weather[0].icon,"@2x.png"),isVisible:!0,isNotFound:!1,isFavorite:h(e)})})).catch((function(e){console.log(e)})):console.log("\u0413\u043e\u0440\u043e\u0434 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d")},h=function(e){return localStorage.getItem("userCity")===e};return Object(a.useEffect)((function(){null!==localStorage.getItem("userCity")&&s(localStorage.getItem("userCity"))}),[]),Object(o.jsxs)("div",{className:"app-wrapper",children:[Object(o.jsx)("h1",{children:"Weather App"}),Object(o.jsxs)("div",{className:"app",children:[Object(o.jsx)(l,{getWeather:function(e){var t=e.target.city.value;s(t),e.preventDefault()}}),i.isVisible?Object(o.jsx)(d,{city:i.city,name:i.name,temperature:i.temperature,humidity:i.humidity,icon:i.icon,isFavorite:i.isFavorite,toggleFavorite:function(){h(i.city)?localStorage.removeItem("userCity"):localStorage.setItem("userCity",i.city),c(Object(r.a)(Object(r.a)({},i),{},{isFavorite:!i.isFavorite}))}}):null]}),i.isNotFound?Object(o.jsx)("p",{className:"error",children:"City wasn't found"}):null]})});s.a.render(Object(o.jsx)(u,{}),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.cad44b8d.chunk.js.map