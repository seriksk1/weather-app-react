{"version":3,"sources":["components/SearchForm.js","components/Weather.js","App.js","index.js"],"names":["SearchForm","props","onSubmit","getWeather","className","name","placeholder","type","id","Weather","city","isFavorite","onClick","toggleFavorite","src","process","alt","title","temperature","humidity","icon","App","useState","weather","setWeather","search","fetch","then","res","ok","json","isNotFound","isVisible","Error","data","main","Math","round","temp","currentIsFavorite","catch","error","console","log","localStorage","getItem","useEffect","e","target","value","preventDefault","removeItem","setItem","ReactDOM","render","document","getElementById"],"mappings":"sOAWeA,EATI,SAACC,GAClB,OACE,uBAAMC,SAAUD,EAAME,WAAYC,UAAU,iBAA5C,UACE,uBAAOC,KAAK,OAAOC,YAAY,iBAAiBC,KAAK,WACrD,wBAAQC,GAAG,aAAX,6BCkCSC,EAtCC,SAACR,GACb,OACE,sBAAKG,UAAU,OAAf,UACE,sBAAKA,UAAU,YAAf,UACE,6BAAKH,EAAMS,OACX,qBACEN,UAAWH,EAAMU,WAAa,UAAY,cAC1CC,QAASX,EAAMY,eACfC,IAAKC,wCACLC,IAAI,GACJC,MAAM,2DAGR,qBACEb,UAAWH,EAAMU,WAAa,cAAgB,UAC9CC,QAASX,EAAMY,eACfC,IAAKC,mDACLC,IAAI,GACJC,MAAM,8DAIV,sBAAKb,UAAU,eAAf,UACE,sBAAKA,UAAU,qBAAf,UACE,sBAAKA,UAAU,mBAAf,UACE,+BAAOH,EAAMiB,cADf,WAGA,qBAAKd,UAAU,qBAAf,SAAqCH,EAAMI,OAC3C,sBAAKD,UAAU,gBAAf,uBACY,+BAAOH,EAAMkB,WADzB,UAIF,qBAAKf,UAAU,eAAeU,IAAKb,EAAMmB,KAAMJ,IAAKf,EAAMI,cC0DrDgB,G,MAvFH,WAER,IACA,EAA8BC,mBAAS,IAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KAQMC,EAAS,SAACf,GACTA,EAIHgB,MAAM,qDAAD,OACkDhB,EADlD,+BAdO,qCAiBTiB,MAAK,SAACC,GACL,GAAIA,EAAIC,GACN,OAAOD,EAAIE,OAGX,MADAN,EAAW,2BAAKD,GAAN,IAAeQ,YAAY,EAAMC,WAAW,KAChDC,MAAM,iBAGfN,MAAK,SAACO,GACLV,EAAW,CACTd,KAAMwB,EAAK7B,KACXA,KAAM6B,EAAKX,QAAQ,GAAGY,KACtBjB,YAAakB,KAAKC,MAAMH,EAAKC,KAAKG,MAClCnB,SAAUe,EAAKC,KAAKhB,SACpBC,KAAK,oCAAD,OAAsCc,EAAKX,QAAQ,GAAGH,KAAtD,WACJY,WAAW,EACXD,YAAY,EACZpB,WAAY4B,EAAkB7B,QAGjC8B,OAAM,SAACC,GACNC,QAAQC,IAAIF,MA3BhBC,QAAQC,IAAI,qFAyCVJ,EAAoB,SAAC7B,GACvB,OAAOkC,aAAaC,QAAQ,cAAgBnC,GAShD,OANAoC,qBAAU,WACmC,OAArCF,aAAaC,QAAQ,aACrBpB,EAAOmB,aAAaC,QAAQ,eAEjC,IAGD,sBAAKzC,UAAU,cAAf,UACE,6CACA,sBAAKA,UAAU,MAAf,UACE,cAAC,EAAD,CAAYD,WA/DC,SAAC4C,GAClB,IAAIrC,EAAOqC,EAAEC,OAAOtC,KAAKuC,MACzBxB,EAAOf,GACPqC,EAAEG,oBA6DG3B,EAAQS,UACP,cAAC,EAAD,CACEtB,KAAMa,EAAQb,KACdL,KAAMkB,EAAQlB,KACda,YAAaK,EAAQL,YACrBC,SAAUI,EAAQJ,SAClBC,KAAMG,EAAQH,KACdT,WAAYY,EAAQZ,WACpBE,eAhCa,WAChB0B,EAAkBhB,EAAQb,MAG7BkC,aAAaO,WAAW,YAFxBP,aAAaQ,QAAQ,WAAY7B,EAAQb,MAI3Cc,EAAW,2BAAKD,GAAN,IAAeZ,YAAaY,EAAQZ,iBA4BtC,QAELY,EAAQQ,WAAa,mBAAG3B,UAAU,QAAb,+BAA6C,UCjF3EiD,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.562dde90.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst SearchForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.getWeather} className=\"search-wrapper\">\r\n      <input name=\"city\" placeholder=\"Type to search\" type=\"search\" />\r\n      <button id=\"search-btn\">Get weather</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default SearchForm","import React from \"react\";\r\n\r\nconst Weather = (props) => {\r\n    return (\r\n      <div className=\"city\">\r\n        <div className=\"city-name\">\r\n          <h2>{props.city}</h2>\r\n          <img\r\n            className={props.isFavorite ? \"display\" : \"not-display\"}\r\n            onClick={props.toggleFavorite}\r\n            src={process.env.PUBLIC_URL + \"img/black-heart.svg\"}\r\n            alt=\"\"\r\n            title=\"Избранное\"\r\n          />\r\n\r\n          <img\r\n            className={props.isFavorite ? \"not-display\" : \"display\"}\r\n            onClick={props.toggleFavorite}\r\n            src={process.env.PUBLIC_URL + \"img/black-heart-not-filled.svg\"}\r\n            alt=\"\"\r\n            title=\"Избранное\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"city-weather\">\r\n          <div className=\"city-weather-descr\">\r\n            <div className=\"city-temperature\">\r\n              <span>{props.temperature}</span>°C\r\n            </div>\r\n            <div className=\"city-weather-state\">{props.name}</div>\r\n            <div className=\"city-humidity\">\r\n              Humidity: <span>{props.humidity}</span>%\r\n            </div>\r\n          </div>\r\n          <img className=\"weather-icon\" src={props.icon} alt={props.name} />\r\n        </div>\r\n      </div>\r\n    );\r\n};\r\n\r\nexport default Weather;","import React, { useEffect, useState } from 'react'\r\nimport SearchForm from './components/SearchForm.js'\r\nimport Weather from './components/Weather.js'\r\nimport './App.css'\r\n\r\nconst App = () => {\r\n\r\n    const API_KEY = \"ff9d437b8a5c1fdf6bc59832839e29b8\";\r\n    const [weather, setWeather] = useState({})\r\n\r\n    const getWeather = (e) => {\r\n      let city = e.target.city.value;\r\n      search(city);\r\n      e.preventDefault();\r\n    };\r\n\r\n    const search = (city) => {\r\n      if (!city) {\r\n        console.log(\"Город не найден\")\r\n        return \r\n      } else {\r\n        fetch(\r\n          `https://api.openweathermap.org/data/2.5/weather?q=${city}&units=metric&appid=${API_KEY}`\r\n        )\r\n          .then((res) => {\r\n            if (res.ok) {\r\n              return res.json();\r\n            } else {\r\n              setWeather({ ...weather, isNotFound: true, isVisible: false });\r\n              throw Error(\"Wrong city\");\r\n            }\r\n          })\r\n          .then((data) => {\r\n            setWeather({\r\n              city: data.name,\r\n              name: data.weather[0].main,\r\n              temperature: Math.round(data.main.temp),\r\n              humidity: data.main.humidity,\r\n              icon: `http://openweathermap.org/img/wn/${data.weather[0].icon}@2x.png`,\r\n              isVisible: true,\r\n              isNotFound: false,\r\n              isFavorite: currentIsFavorite(city),\r\n            });\r\n          })\r\n          .catch((error) => {\r\n            console.log(error)\r\n          });\r\n        }\r\n    }\r\n\r\n    const toggleFavorite = () => {\r\n      if (!currentIsFavorite(weather.city)) {\r\n        localStorage.setItem(\"userCity\", weather.city)\r\n      } else {\r\n        localStorage.removeItem(\"userCity\")\r\n      }\r\n      setWeather({ ...weather, isFavorite: !weather.isFavorite })\r\n    }\r\n\r\n    const currentIsFavorite = (city) => {\r\n        return localStorage.getItem(\"userCity\") === city\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (localStorage.getItem(\"userCity\") !== null){\r\n            search(localStorage.getItem(\"userCity\"))\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n      <div className=\"app-wrapper\">\r\n        <h1>Weather App</h1>\r\n        <div className=\"app\">\r\n          <SearchForm getWeather={getWeather} />\r\n          {weather.isVisible ? (\r\n            <Weather\r\n              city={weather.city}\r\n              name={weather.name}\r\n              temperature={weather.temperature}\r\n              humidity={weather.humidity}\r\n              icon={weather.icon}\r\n              isFavorite={weather.isFavorite}\r\n              toggleFavorite={toggleFavorite}\r\n            />\r\n          ) : null}\r\n        </div>\r\n        {weather.isNotFound ? <p className=\"error\">City wasn't found</p> : null}\r\n      </div>\r\n    );\r\n    \r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}